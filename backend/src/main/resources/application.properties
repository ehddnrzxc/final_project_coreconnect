# WebSocket 허용 Origin 설정 (쉼표로 구분하여 여러 Origin 지정 가능)
# 환경 변수 WEBSOCKET_ALLOWED_ORIGINS로 오버라이드 가능
# 예: http://localhost:5173,http://13.125.225.211,https://yourdomain.com
# ⭐ Spring Boot는 환경 변수를 자동으로 인식하므로, 환경 변수가 설정되어 있으면 자동으로 사용됩니다.
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
app.websocket.allowed-origins=http://localhost:5173

# CORS 허용 Origin 설정 (쉼표로 구분하여 여러 Origin 지정 가능)
# 환경 변수 CORS_ALLOWED_ORIGINS로 오버라이드 가능
# 예: http://localhost:5173,http://13.125.225.211,https://yourdomain.com
# ⭐ Spring Boot는 환경 변수를 자동으로 인식하므로, 환경 변수가 설정되어 있으면 자동으로 사용됩니다.
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
app.cors.allowed-origins=http://localhost:5173

spring.application.name=coreconnect

# database
# ⭐ Spring Boot는 SPRING_DATASOURCE_* 환경 변수를 자동으로 인식합니다.
# docker-compose.yml에서 SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD로 전달됩니다.
# 환경 변수가 설정되어 있으면 자동으로 사용되고, 없으면 아래 기본값이 사용됩니다.
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
# 배포 환경에서는 docker-compose.yml의 환경 변수가 우선 적용됩니다.
# Spring Boot는 환경 변수를 자동으로 인식하므로, 환경 변수가 설정되어 있으면 자동으로 사용됩니다.
# 참고: Spring Boot는 SPRING_DATASOURCE_URL 환경 변수를 자동으로 spring.datasource.url로 매핑합니다.
spring.datasource.url=jdbc:mysql://coreconnect-db.cfsuoeqewu8x.ap-northeast-2.rds.amazonaws.com:3306/db_coreconnect?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8
spring.datasource.username=admin
# ⭐ 로컬 MySQL root 비밀번호를 설정하세요. 비밀번호가 없으면 빈 문자열로 두세요.
# ⭐ 환경 변수 SPRING_DATASOURCE_PASSWORD로 오버라이드 가능합니다.
spring.datasource.password=coreconnect

# jpa
spring.jpa.database=mysql
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=none

# S3 기본설정
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
cloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID:}
cloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY:}
cloud.aws.region.static=${AWS_REGION:ap-northeast-2}
cloud.aws.s3.bucket=${AWS_BUCKET_NAME:}

# SendGrid 메일 서버 설정
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
sendgrid.api.key=${SENDGRID_API_KEY:}
sendgrid.from.email=no-reply@your-domain.com
sendgrid.from.name=YourAppName

# MyBatis 관련 기본 설정
mybatis.mapper-locations=classpath:/mappers/**/*.xml
mybatis.type-aliases-package=com.goodee.coreconnect
mybatis.configuration.map-underscore-to-camel-case=true

# 기본 활성 프로필
spring.profiles.active=secure

# JWT 설정
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
# 주의: 배포 환경에서는 반드시 환경 변수로 설정해야 합니다!
jwt.secret=${JWT_SECRET_KEY:your-local-dev-secret-key-change-in-production}

# 이메일 설정
spring.mail.host=smtp.gmail.com
spring.mail.port=587
# ⭐ 환경 변수가 없을 경우를 대비하여 기본값 제공 (로컬 개발용)
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}

# SMTP 인증 및 TLS 설정
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# 디버깅용 설정
logging.level.org.hibernate.tool.schema.internal=DEBUG

# 업로드 파일 1개 최대 용량
spring.servlet.multipart.max-file-size=50MB
# 업로드 요청 전체 용량(여러 파일 합계) 최대
spring.servlet.multipart.max-request-size=100MB

# redis
#spring.data.redis.host=127.0.0.1
#spring.data.redis.port=6379
#spring.data.redis.password=1111
#spring.data.redis.timeout=2000ms

# SpringDoc 설정 (Spring Boot 3.3.5 호환성)
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.packages-to-scan=com.goodee.coreconnect
# WebJars 리소스 해결자 비활성화 (LiteWebJarsResourceResolver 문제 해결)
springdoc.swagger-ui.use-root-path=false


