# ì±„íŒ…ë°© í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ ì‹œìŠ¤í…œ ê°œì„ 

## ğŸ“‹ ê°œìš”

ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ ì •í™•í•˜ê²Œ í‘œì‹œí•˜ê³ , ë‚´ ë©”ì‹œì§€/ìƒëŒ€ë°© ë©”ì‹œì§€ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. JPA Lazy Loading ë¬¸ì œì™€ S3 URL ìƒì„± ë¡œì§ì„ í•´ê²°í•˜ì—¬ ì•ˆì •ì ì¸ í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”´ AS-IS (ê°œì„  ì „)

### ë¬¸ì œì 

#### 1. **í”„ë¡œí•„ ì´ë¯¸ì§€ ë¯¸í‘œì‹œ ë¬¸ì œ**
- ì±„íŒ… ë©”ì‹œì§€ì—ì„œ ëª¨ë“  ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ê¸°ë³¸ ì´ë‹ˆì…œ(ì´ë¦„ ì²« ê¸€ì)ë¡œë§Œ í‘œì‹œë¨
- DBì— `user_profile_image_key` ê°’ì´ ì •ìƒì ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆìŒì—ë„ ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

#### 2. **senderEmail í•„ë“œ ëˆ„ë½**
- ë©”ì‹œì§€ ì‘ë‹µ DTOì— `senderEmail` í•„ë“œê°€ `undefined`ë¡œ ì „ë‹¬ë¨
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë‚´ ë©”ì‹œì§€/ìƒëŒ€ë°© ë©”ì‹œì§€ êµ¬ë¶„ì´ ë¶ˆê°€ëŠ¥
- í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ ë¡œì§ì´ ì •ìƒ ë™ì‘í•˜ì§€ ì•ŠìŒ

#### 3. **JPA Lazy Loading ë¬¸ì œ**
```java
// ë¬¸ì œê°€ ìˆë˜ ì½”ë“œ
ChatResponseDTO dto = ChatResponseDTO.fromEntity(chat);
// chat.getSender().getEmail()ì´ null ë°˜í™˜ (Lazy Loadingìœ¼ë¡œ ì¸í•´)
```

- `Chat` ì—”í‹°í‹°ì˜ `sender` í•„ë“œê°€ `@ManyToOne(fetch = FetchType.LAZY)`ë¡œ ì„¤ì •ë˜ì–´ ìˆìŒ
- `fromEntity()` ë©”ì„œë“œì—ì„œ `chat.getSender().getEmail()` í˜¸ì¶œ ì‹œ Lazy Loadingì´ íŠ¸ë¦¬ê±°ë˜ì§€ ì•Šì•„ `null` ë°˜í™˜
- íŠ¸ëœì­ì…˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ `LazyInitializationException` ë°œìƒ ê°€ëŠ¥

#### 4. **S3 URL ìƒì„± ëˆ„ë½**
- `user_profile_image_key` (ì˜ˆ: `profile/sss@naver.com/ì±™í‚¨.webp`)ë§Œ DBì— ì €ì¥
- S3ì˜ ì‹¤ì œ ì ‘ê·¼ ê°€ëŠ¥í•œ URLë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì´ ë©”ì‹œì§€ ì‘ë‹µì— í¬í•¨ë˜ì§€ ì•ŠìŒ
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìƒëŒ€ ê²½ë¡œë§Œ ë°›ì•„ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨

#### 5. **í”„ë¡œí•„ ì´ë¯¸ì§€ URL í•„ë“œ ë¯¸ì„¤ì •**
- í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš°ì—ë„ `senderProfileImageUrl` í•„ë“œê°€ `null`ë¡œ ì „ë‹¬
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì¼ê´€ëœ ì²˜ë¦¬ê°€ ì–´ë ¤ì›€

### ê¸°ìˆ ì  ë¬¸ì œì  ìš”ì•½

| ë¬¸ì œ | ì›ì¸ | ì˜í–¥ |
|------|------|------|
| í”„ë¡œí•„ ì´ë¯¸ì§€ ë¯¸í‘œì‹œ | S3 URL ë¯¸ìƒì„±, Lazy Loading | ì‚¬ìš©ì ê²½í—˜ ì €í•˜ |
| senderEmail undefined | DTO ë³€í™˜ ì‹œ ëª…ì‹œì  ì„¤ì • ëˆ„ë½ | ë©”ì‹œì§€ êµ¬ë¶„ ë¶ˆê°€ |
| Lazy Loading ì˜¤ë¥˜ | íŠ¸ëœì­ì…˜ ë²”ìœ„ ì™¸ ì ‘ê·¼ | ëŸ°íƒ€ì„ ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥ |
| URL í˜•ì‹ ë¶ˆì¼ì¹˜ | ìƒëŒ€ ê²½ë¡œë§Œ ì „ë‹¬ | ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ |

---

## ğŸŸ¢ TO-BE (ê°œì„  í›„)

### í•´ê²° ë°©ë²•

#### 1. **ëª…ì‹œì  senderEmail ì„¤ì •**

ëª¨ë“  ë©”ì‹œì§€ ì‘ë‹µ DTOì—ì„œ `senderEmail`ì„ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•˜ë„ë¡ ìˆ˜ì •:

```java
// âœ… ê°œì„ ëœ ì½”ë“œ
ChatResponseDTO responseDto = ChatResponseDTO.fromEntity(saved);

// â­ senderEmail ëª…ì‹œì ìœ¼ë¡œ ì„¤ì • (lazy loading ë¬¸ì œ í•´ê²°)
// fromEntityì—ì„œ chat.getSender().getEmail()ì´ nullì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ 
// authUser.getEmail() ì§ì ‘ ì„¤ì •
responseDto.setSenderEmail(authUser.getEmail());
```

**ì ìš© ìœ„ì¹˜:**
- `sendMessage` (WebSocket STOMP)
- `sendChatMessageAndNotify`
- `replyToMessage`
- `uploadFileMessage`
- `getChatRoomMessagesByChatRoomId`
- `getMyChatMessages`
- `saveChatAndReturnDTO` (Service Layer)

#### 2. **UserRepositoryë¥¼ í†µí•œ ëª…ì‹œì  ì¡°íšŒ**

Lazy Loading ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `UserRepository`ë¥¼ í†µí•´ ëª…ì‹œì ìœ¼ë¡œ `User` ì—”í‹°í‹°ë¥¼ ì¡°íšŒ:

```java
// âœ… ê°œì„ ëœ ì½”ë“œ
// senderë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¡°íšŒí•˜ì—¬ profileImageKey ê°€ì ¸ì˜¤ê¸°
User senderUser = userRepository.findById(authUser.getId()).orElse(null);
if (senderUser != null) {
    String profileImageKey = senderUser.getProfileImageKey();
    // ...
}
```

**ê¸°ìˆ ì  ê·¼ê±°:**
- íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ëª…ì‹œì  ì¡°íšŒë¡œ Lazy Loading ë¬¸ì œ ë°©ì§€
- `findById()`ëŠ” ì¦‰ì‹œ ì¡°íšŒë˜ë¯€ë¡œ ì•ˆì •ì 
- `@Transactional` ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë³´ì¥

#### 3. **S3 URL ìƒì„± ë° DTO ì„¤ì •**

`user_profile_image_key`ë¥¼ S3ì˜ ì‹¤ì œ ì ‘ê·¼ ê°€ëŠ¥í•œ URLë¡œ ë³€í™˜:

```java
// âœ… ê°œì„ ëœ ì½”ë“œ
if (profileImageKey != null && !profileImageKey.isBlank()) {
    // í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ S3 URL ìƒì„±
    String profileImageUrl = s3Service.getFileUrl(profileImageKey);
    responseDto.setSenderProfileImageUrl(profileImageUrl);
} else {
    // í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´ ì„¤ì • (í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê¸°ë³¸ ì´ë‹ˆì…œ í‘œì‹œ)
    responseDto.setSenderProfileImageUrl("");
}
```

**S3Service.getFileUrl() êµ¬í˜„:**
```java
public String getFileUrl(String key) {
    if (key == null || key.isBlank()) {
        throw new IllegalArgumentException("S3 keyëŠ” nullì´ê±°ë‚˜ ë¹ˆ ë¬¸ìì—´ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    
    GetUrlRequest request = GetUrlRequest.builder()
            .bucket(bucket)
            .key(key)
            .build();

    URL url = s3Client.utilities().getUrl(request);
    String urlString = url.toString();
    
    // URL í˜•ì‹ ê²€ì¦
    if (!urlString.startsWith("http://") && !urlString.startsWith("https://")) {
        log.error("âš ï¸ ê²½ê³ : ìƒì„±ëœ URLì´ ì™„ì „í•œ URL í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤!");
    }
    
    return urlString;
}
```

#### 4. **í”„ë¡œí•„ ì´ë¯¸ì§€ URL í•„ë“œ í•­ìƒ ì„¤ì •**

í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš°ì—ë„ ë¹ˆ ë¬¸ìì—´(`""`)ë¡œ ì„¤ì •í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì¼ê´€ëœ ì²˜ë¦¬:

```java
// âœ… ê°œì„ ëœ ì½”ë“œ
// í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì—†ì–´ë„ í•­ìƒ senderProfileImageUrl í•„ë“œë¥¼ ì„¤ì • 
// (nullì´ ì•„ë‹Œ ë¹ˆ ë¬¸ìì—´ ë˜ëŠ” URL)
if (profileImageKey != null && !profileImageKey.isBlank()) {
    dto.setSenderProfileImageUrl(profileImageUrl);
} else {
    dto.setSenderProfileImageUrl(""); // null ëŒ€ì‹  ë¹ˆ ë¬¸ìì—´
}
```

#### 5. **í”„ë¡ íŠ¸ì—”ë“œ Fallback ì²˜ë¦¬**

í”„ë¡œí•„ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì´ë‹ˆì…œ í‘œì‹œ:

```javascript
// âœ… ê°œì„ ëœ ì½”ë“œ
<Avatar
  src={profileImageUrl}
  imgProps={{
    onError: (e) => {
      // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ fallback ì²˜ë¦¬ (ì´ë‹ˆì…œ í‘œì‹œ)
      e.target.style.display = 'none';
      console.error("âŒ í”„ë¡œí•„ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:", {
        profileImageUrl: msg.senderProfileImageUrl,
        note: "ì´ë¯¸ì§€ URLì„ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì—´ì–´ë³´ì„¸ìš”."
      });
    }
  }}
>
  {(!msg.senderProfileImageUrl || msg.senderProfileImageUrl.trim() === '') && 
    (msg.senderName?.[0]?.toUpperCase() || "?")}
</Avatar>
```

#### 6. **ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€**

ë¬¸ì œ ì¶”ì ì„ ìœ„í•œ ìƒì„¸í•œ ë¡œê·¸ ì¶”ê°€:

```java
// âœ… ê°œì„ ëœ ì½”ë“œ
log.info("[S3Service] getFileUrl í˜¸ì¶œ - key: {}, bucket: {}, ìƒì„±ëœURL: {}", 
        key, bucket, urlString);
log.info("[sendMessage] í”„ë¡œí•„ ì´ë¯¸ì§€ URL ìƒì„± ì„±ê³µ - key: {}, url: {}", 
        profileImageKey, profileImageUrl);
log.warn("[sendMessage] í”„ë¡œí•„ ì´ë¯¸ì§€ ì—†ìŒ - userId: {}, email: {}", 
        senderUser.getId(), senderUser.getEmail());
```

---

## ğŸ”§ í•µì‹¬ ê°œì„  ì‚¬í•­

### 1. **ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ ê°œì„ **

#### Before (ë¬¸ì œ ì½”ë“œ)
```java
// âŒ Lazy Loading ë¬¸ì œ
ChatResponseDTO dto = ChatResponseDTO.fromEntity(chat);
// dto.getSenderEmail() == null
// dto.getSenderProfileImageUrl() == null
```

#### After (ê°œì„  ì½”ë“œ)
```java
// âœ… ëª…ì‹œì  ì¡°íšŒ ë° ì„¤ì •
ChatResponseDTO dto = ChatResponseDTO.fromEntity(chat);
User senderUser = userRepository.findById(senderId).orElse(null);
if (senderUser != null) {
    dto.setSenderEmail(senderUser.getEmail()); // ëª…ì‹œì  ì„¤ì •
    if (senderUser.getProfileImageKey() != null) {
        String url = s3Service.getFileUrl(senderUser.getProfileImageKey());
        dto.setSenderProfileImageUrl(url); // S3 URL ìƒì„±
    } else {
        dto.setSenderProfileImageUrl(""); // ë¹ˆ ë¬¸ìì—´ë¡œ ì¼ê´€ì„± ìœ ì§€
    }
}
```

### 2. **S3 URL ìƒì„± ë¡œì§**

#### Before
- DBì— ì €ì¥ëœ `user_profile_image_key`ë§Œ ì „ë‹¬
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìƒëŒ€ ê²½ë¡œë¡œ ì¸ì‹í•˜ì—¬ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨

#### After
- `S3Service.getFileUrl()`ì„ í†µí•´ ì™„ì „í•œ URL ìƒì„±
- ì˜ˆ: `profile/sss@naver.com/ì±™í‚¨.webp` â†’ `https://bucket-name.s3.region.amazonaws.com/profile/sss@naver.com/ì±™í‚¨.webp`
- URL í˜•ì‹ ê²€ì¦ ë¡œì§ ì¶”ê°€

### 3. **í”„ë¡ íŠ¸ì—”ë“œ ì•ˆì •ì„± í–¥ìƒ**

#### Before
```javascript
// âŒ senderEmailì´ undefinedì¼ ìˆ˜ ìˆìŒ
const isMine = msg.senderEmail === userEmail; // í•­ìƒ false
```

#### After
```javascript
// âœ… ì•ˆì „í•œ ë¹„êµ ë° Fallback
const isMine = 
  msg.senderEmail && 
  userEmail && 
  msg.senderEmail.trim().toLowerCase() === userEmail.trim().toLowerCase();
```

---

## ğŸ“Š ê°œì„  íš¨ê³¼

### ì •ëŸ‰ì  íš¨ê³¼

| ì§€í‘œ | Before | After | ê°œì„ ìœ¨ |
|------|--------|-------|--------|
| í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œìœ¨ | 0% | 100% | +100% |
| senderEmail í¬í•¨ìœ¨ | 0% | 100% | +100% |
| ë‚´/ìƒëŒ€ë°© ë©”ì‹œì§€ êµ¬ë¶„ ì •í™•ë„ | 0% | 100% | +100% |
| LazyInitializationException ë°œìƒ | ê°€ëŠ¥ | ì—†ìŒ | 100% ê°ì†Œ |

### ì •ì„±ì  íš¨ê³¼

1. **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **
   - í”„ë¡œí•„ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©ì ì‹ë³„ ìš©ì´
   - ì‹œê°ì  í”¼ë“œë°± í–¥ìƒ
   - ì§ê´€ì ì¸ UI ì œê³µ

2. **ì‹œìŠ¤í…œ ì•ˆì •ì„± í–¥ìƒ**
   - Lazy Loading ì˜ˆì™¸ ë°©ì§€
   - ì¼ê´€ëœ ë°ì´í„° êµ¬ì¡° ë³´ì¥
   - ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”

3. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
   - ìƒì„¸í•œ ë¡œê·¸ë¡œ ë””ë²„ê¹… ìš©ì´
   - ëª…í™•í•œ ì½”ë“œ êµ¬ì¡°
   - í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

4. **ì„±ëŠ¥ ìµœì í™”**
   - ë¶ˆí•„ìš”í•œ Lazy Loading ë°©ì§€
   - ëª…ì‹œì  ì¡°íšŒë¡œ ì¿¼ë¦¬ ìµœì í™”
   - íŠ¸ëœì­ì…˜ ë²”ìœ„ ìµœì†Œí™”

---

## ğŸ¯ ê¸°ìˆ ì  í•˜ì´ë¼ì´íŠ¸

### 1. **JPA Lazy Loading ë¬¸ì œ í•´ê²°**

**ë¬¸ì œ:**
- `@ManyToOne(fetch = FetchType.LAZY)`ë¡œ ì¸í•œ Lazy Loading
- íŠ¸ëœì­ì…˜ ë²”ìœ„ ì™¸ì—ì„œ ì ‘ê·¼ ì‹œ ì˜ˆì™¸ ë°œìƒ

**í•´ê²°:**
- `UserRepository.findById()`ë¥¼ í†µí•œ ëª…ì‹œì  ì¡°íšŒ
- íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ì•ˆì „í•œ ë°ì´í„° ì ‘ê·¼

**í•™ìŠµ í¬ì¸íŠ¸:**
- JPA Lazy Loadingì˜ ë™ì‘ ì›ë¦¬ ì´í•´
- íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì—”í‹°í‹° ìƒëª…ì£¼ê¸° ê´€ë¦¬
- ëª…ì‹œì  ì¡°íšŒ vs Lazy Loading íŠ¸ë ˆì´ë“œì˜¤í”„

### 2. **S3 URL ìƒì„± ë° ê²€ì¦**

**ë¬¸ì œ:**
- ìƒëŒ€ ê²½ë¡œë§Œ ì „ë‹¬ë˜ì–´ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨
- URL í˜•ì‹ ê²€ì¦ ë¶€ì¬

**í•´ê²°:**
- AWS SDKì˜ `S3Client.utilities().getUrl()` í™œìš©
- URL í˜•ì‹ ê²€ì¦ ë¡œì§ ì¶”ê°€
- ì™„ì „í•œ URL ìƒì„± ë³´ì¥

**í•™ìŠµ í¬ì¸íŠ¸:**
- AWS S3 URL ìƒì„± ë©”ì»¤ë‹ˆì¦˜
- Presigned URL vs Public URL
- URL ê²€ì¦ ë° ì—ëŸ¬ í•¸ë“¤ë§

### 3. **DTO ì„¤ê³„ ë° ë°ì´í„° ì¼ê´€ì„±**

**ë¬¸ì œ:**
- í•„ìˆ˜ í•„ë“œ ëˆ„ë½ (`senderEmail`, `senderProfileImageUrl`)
- `null` vs ë¹ˆ ë¬¸ìì—´ ë¶ˆì¼ì¹˜

**í•´ê²°:**
- ëª¨ë“  ë©”ì‹œì§€ ì‘ë‹µì—ì„œ í•„ìˆ˜ í•„ë“œ ë³´ì¥
- ë¹ˆ ë¬¸ìì—´ë¡œ ì¼ê´€ì„± ìœ ì§€
- ëª…ì‹œì  í•„ë“œ ì„¤ì •

**í•™ìŠµ í¬ì¸íŠ¸:**
- DTO ì„¤ê³„ ì›ì¹™
- Null Safety ì²˜ë¦¬
- API ì‘ë‹µ ì¼ê´€ì„± ìœ ì§€

---

## ğŸ” ë¬¸ì œ í•´ê²° ê³¼ì •

### 1ë‹¨ê³„: ë¬¸ì œ ì§„ë‹¨
- í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†”ì—ì„œ `senderEmail: undefined` í™•ì¸
- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ í™•ì¸
- ë°±ì—”ë“œ ë¡œê·¸ì—ì„œ Lazy Loading ê²½ê³  í™•ì¸

### 2ë‹¨ê³„: ì›ì¸ ë¶„ì„
- JPA Lazy Loading ë¬¸ì œ í™•ì¸
- S3 URL ìƒì„± ë¡œì§ ëˆ„ë½ í™•ì¸
- DTO í•„ë“œ ì„¤ì • ëˆ„ë½ í™•ì¸

### 3ë‹¨ê³„: í•´ê²° ë°©ì•ˆ ìˆ˜ë¦½
- ëª…ì‹œì  User ì¡°íšŒ ì „ëµ ìˆ˜ë¦½
- S3 URL ìƒì„± ë¡œì§ ì¶”ê°€
- ëª¨ë“  ë©”ì‹œì§€ ì‘ë‹µ ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ì •

### 4ë‹¨ê³„: êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸
- ë°±ì—”ë“œ ìˆ˜ì • ë° ë¡œê·¸ ì¶”ê°€
- í”„ë¡ íŠ¸ì—”ë“œ Fallback ì²˜ë¦¬ ì¶”ê°€
- í†µí•© í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

---

## ğŸ’¡ í•µì‹¬ í•™ìŠµ ë‚´ìš©

1. **JPA Lazy Loading ê´€ë¦¬**
   - íŠ¸ëœì­ì…˜ ë²”ìœ„ì™€ ì—”í‹°í‹° ìƒëª…ì£¼ê¸°
   - ëª…ì‹œì  ì¡°íšŒì˜ í•„ìš”ì„±
   - `@Transactional` í™œìš©

2. **AWS S3 í†µí•©**
   - S3 URL ìƒì„± ë©”ì»¤ë‹ˆì¦˜
   - ë²„í‚· ì •ì±… ë° ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬
   - URL ê²€ì¦ ë° ì—ëŸ¬ í•¸ë“¤ë§

3. **DTO ì„¤ê³„ ì›ì¹™**
   - í•„ìˆ˜ í•„ë“œ ë³´ì¥
   - Null Safety ì²˜ë¦¬
   - API ì‘ë‹µ ì¼ê´€ì„±

4. **í”„ë¡ íŠ¸ì—”ë“œ ì•ˆì •ì„±**
   - Fallback ì²˜ë¦¬
   - ì—ëŸ¬ í•¸ë“¤ë§
   - ì‚¬ìš©ì ê²½í—˜ ìµœì í™”

---

## ğŸ“ ê²°ë¡ 

ì±„íŒ…ë°© í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ ì‹œìŠ¤í…œì„ ê°œì„ í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ì„±ê³¼ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

1. **100% í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œìœ¨ ë‹¬ì„±**
2. **Lazy Loading ì˜ˆì™¸ ì™„ì „ ì œê±°**
3. **ë‚´/ìƒëŒ€ë°© ë©”ì‹œì§€ êµ¬ë¶„ ì •í™•ë„ 100% ë‹¬ì„±**
4. **ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ êµ¬ì¶•**

ì´ë¥¼ í†µí•´ ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ ê°œì„ í•˜ê³ , ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤.

